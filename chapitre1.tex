\section{Théorie naïve des ensembles}

\begin{exercice}
    On définit "l'ensemble" $R = \{x \mid x \notin R\}$.
    Supposons d'abord que $x \in R$, alors par définition de $R$, on a que $x \notin R$. Supposons maintenant 
    que $x \notin R$, alors de même, par définition de $R$, $x \in R$. Dans les deux cas, on a à la fois $x \in R$ et $x \notin R$. Paradoxe.
\end{exercice}

\begin{exercice}
    Soit $\sim$ soit une relation dans un ensemble $S$.
    Soit $[a]_\sim, [b]_\sim$ des élements distincts de $S /_\sim$. On remarque que ces deux éléments ne sont pas vides puisque $a \in [a]_{\sim}$
    et $b \in [b]_\sim$ par réflexivité de $\sim$. Supposons que $[a]_\sim \cap [b]_\sim \neq \emptyset$, alors il existe $x \in S$ tel que $x \in [a]_\sim$ et $x \in [b]_\sim$ i.e. $x \sim a$ et $x \sim b$.

    \begin{itemize}
        \item Pour tous $x_a \in [a]_\sim$, on a $x_a \sim a$ et $a \sim x$, d'où par transitivité, $x_a \sim x$. 
        On en déduit que $x_a \sim b$ par transitivité et réflexivité de $\sim$. On en déduit que $x_a \in [b]_\sim$ et donc $[a]_\sim \subseteq [b]_\sim$.
        \item Pour tous $x_b \in [b]_\sim$, on a $x_b \sim b$ et $b \sim x$, d'où par transitivité, $x_b \sim x$. 
        On en déduit que $x_b \sim a$ par transitivité et réflexivité de $\sim$. On en déduit que $x_b \in [a]_\sim$ et donc $[b]_\sim \subseteq [a]_\sim$.
    \end{itemize}
    On a alors que $[a]_\sim = [b]_\sim$. Les éléments de $S /_\sim$ sont alors distincts deux à deux. On sait par définition que $\bigsqcup_{[a]_\sim \in S /_\sim} [a]_\sim \subseteq S$.
    Soit $x \in S$, alors $x \in [x]_\sim$, or $[x]_\sim \in S /_\sim$, donc $x \in \bigsqcup_{[a]_\sim \in S /_\sim} [a]_\sim$ et $S = \bigsqcup_{[a]_\sim \in S /_\sim} [a]_\sim$. Autrement dit, que $S/_\sim$ forme une partition de $S$.
\end{exercice}

\begin{exercice}
    Direct.
\end{exercice}

\begin{exercice}
    On a $5$ partitions possibles de $\{1,2,3\}$. Dès lors $5$ relations d'équivalence peuvent être définies sur cet ensemble.
\end{exercice}

\begin{exercice}
    Sur $S = \{1,2,3\}$, on définit
    \[
    R = \{(1,1), (2,2), (3,3), (1,2), (2,1), (2,3), (3,2)\}.
    \]
    On voit que $R$ est réflexive, symétrique mais n'est pas transitive car $1R2$ et $2R3$ mais on n'a pas $1R3$.
    On aurait alors $S /_R = \{\{1,2\}, \{2, 1, 3\}, \{2, 3\}\}$ qui n'est pas une partition de $S$.
\end{exercice}

\begin{exercice}
    Soit $\sim$ la relation sur $\R$ définie par $x \sim y \Longleftrightarrow x - y \in \Z$.
    \begin{itemize}
        \item Soit $x \in \R$, on a $x - x = 0 \in \Z$, d'où $x \sim x$.
        \item Soit $x,y \in \R$, supposons que $x \sim y$, alors $y - x = (-1)(x - y) \in \Z$, d'où $y \sim x$.
        \item Soit $x,y,z \in \R$, supposons que $x \sim y$ et $y \sim z$, alors $x - z = (x - y) + (y - z) \in \Z$, d'où $x \sim z$.
    \end{itemize}
    La relation $\sim$ est donc une relation d'équivalence, on a $\R /_\sim = \{[x]_\sim \mid x \in [0, 1[\}$.
    Raisonnement analogue pour la deuxième relation.
\end{exercice}

\section{Fonctions entre ensembles}

\begin{exercice}
    On considère $S = \{s_1,\dots,s_n\}$, on pose :  
    \begin{align*}
        \Omega_S &= \{(f(s_1),\dots,f(s_n))) \mid f : S \to S \text{ bijective}\} \\
                 &= \{(s_{\sigma(1)},\dots,s_{\sigma(n)}) \mid \sigma \in S_n\}
    \end{align*}
    où $S_n$ est l'ensemble des permutations de $\{1,\dots,n\}$. Dès lors, $|\Omega_S| = n!$. 
    Or $\Omega_S$ est isomorphe à l'ensemble des fonctions bijectives de $S$ à $S$. 
    On conclut qu'il existe $n!$ fonctions bijectives de $S$ à $S$.
\end{exercice}

\begin{exercice}
    Soit $f : A \to B, A \neq \emptyset$.
    Supposons que $f$ admette une fonction inverse à droite $g : B \to A$. Alors pour tout $y \in f(A)$, il existe 
    $x := g(y) \in A$ tel que $f(x) = y$. Supposons réciproquement que $f$ soit surjective, alors pour tout $y \in B$, il
    existe $x \in A$ tel que $f(x) = y$. Soit $s \in A$ fixé, on définit alors 
    \[
        g : y \in B \mapsto 
        \begin{cases}
            x \in f^{-1}(\{y\}) & \text{si } y \in Im(f),\\
            s & \text{sinon}
        \end{cases} \in A.
    \]
    On voit que cette fonction n'est pas unique si pour au moins un $y \in Im(f), f^{-1}(\{y\}$ n'est pas un singleton,
    i.e. f n'est pas injective. Dès lors on a unicité de $g$ si et seulement si $f$ est bijective. L'axiome du choix nous 
    permet de sélectionner un élément $x$ de $f^{-1}(\{y\})$.
    
\end{exercice}

\begin{exercice}
    Soit $f : A \to B$ une bijection, on a alors $f^{-1} \circ f = Id_A$ et $f \circ f^{-1} = Id_B$. Dès lors $(f^{-1})^{-1} = f$ par 
    unicité de la bijection.
    Soit maintenant $f : A \to B, g : B \to C$ des bijections, alors on a $(g \circ f) \circ (f^{-1} \circ g^{-1}) = Id_A$ et 
    $f^{-1} \circ g^{-1} \circ (g \circ f) = Id_B$ par associativité de la composition.
\end{exercice}

\begin{exercice}
    Pour éviter un "ensemble d'ensembles" qui ferait apparaître un paradoxe, plaçons-nous dans $E = \mathcal{P}(\R)$ l'ensemble des parties
    de $\R$.
    \begin{itemize}
        \item Soit $A \in E$, alors $1_A : x \in A \mapsto x \in A$ est une bijection d'inverse $1_A$ puisque $1_A \circ 1_A = 1_A$.
        \item Soit $A,B \in E$, supposons qu'il existe $f : A \to B$ est une bijection, alors $f^{-1}$ est une bijection de $B$ à $A$.
        \item Soit $A,B,C \in E$, supposons qu'il existe $f : A \to B, g : B \to C$ des bijections, alors $g \circ f$ est une bijection
        de $A$ à $C$.
    \end{itemize}
    Les deuxième et troisième points sont des conséquences de l'exercice précédent.
\end{exercice}

\begin{exercice}
    Soit $f : A \to B$ une fonction, on dit que $f$ est un épimorphisme si pour tout ensemble $Z$, pour toutes applications $\varphi_1, \varphi_2 : B \to Z$,
    si $\varphi_1 \circ f = \varphi_2 \circ f$ alors $\varphi_1 = \varphi_2$.
    Supposons que $f$ soit surjective, alors pour tout ensemble $Z$, pour toutes applications $\varphi_1, \varphi_2 : B \to Z$, si $\varphi_1 \circ f = \varphi_2 \circ f$ alors 
    pour tout $y \in Im(f)$, on a $\varphi_1(y) = \varphi_2(y)$, donc $\varphi_1 = \varphi_2$ sur $Im(f)$, mais $Im(f) = B$ puisque $f$ est surjective. D'où $f$ est un épimorphisme. 
    Supposons réciproquement que $f$ soit un épimorphisme, en particulier, on a pour $\varphi_1 : x \in B \mapsto 0 \in \{0, 1\}$ et $\varphi_1 : x \in B \mapsto 1 - 1_{Im(f)}(x) \in \{0, 1\}$.
    On a pour tout $x \in A, (\varphi_1 \circ f)(x) = (\varphi_2 \circ f)(x) = 0$. Dès lors, on a $\varphi_1 = \varphi_2$, i.e. pour tout $y\in B, y \in Im(f)$.
\end{exercice}

\begin{exercice}
    On peut exprimer $f : A \to B$ par son graphe $\Gamma = \{(x, f(x)) \mid x \in A\}$.
    On peut créer une flèche pour aller de $A$ à $\Gamma$ à l'aide de l'application $\varphi : x \in A \mapsto (x,f(x)) \in \Gamma$ 
    et on a alors $(\pi_A \circ \varphi)(a) = a$. Donc $\varphi$ est une section de $\pi_A$.

    \begin{figure}[h]
        \centering
        \begin{tikzcd}
            & \Gamma \arrow[ld, "\pi_A"', two heads] \arrow[rd, "\pi_{\text{Im}(f)}", two heads] &                   \\
          A &                                                                                      & \text{Im}(f) \subseteq B
        \end{tikzcd}
    \end{figure}
\end{exercice}

\begin{exercice}
    On note $\pi_A : (x, f(x)) \in \Omega \mapsto x \in A$. Par définition de fonction, chaque élément de A est 
    associé à un unique élément dans $B$. Dès lors, $\pi_A$ est injective. De même, $\pi_A$ est surjective à partir 
    du moment où $A$ est le domaine de $f$. Dans ce livre on ne fait pas de distinction entre fonction et application, 
    dès lors $A$ est le domaine de $f$ donc $\pi_A$ est toujours surjective.
\end{exercice}

\begin{exercice}
    En posant $f : r \in \R \mapsto e^{2i\pi r} \in \C$, on a $Im(f) = S^1$ le cercle unité centré en 0 dans le plan complexe.
    Soit $r, r' \in \R$, supposons que $e^{2i\pi r} = e^{2i\pi r'}$. On aurait alors $2\pi r = 2\pi r' + 2k\pi = 2\pi(r + k)$ avec $k \in \Z$.
    D'où $r - r' = k$, ou encore, $r - r' \in \Z$. Dès lors, définir $r \sim r' \Leftrightarrow e^{2i\pi r} = e^{2i\pi r'}$ revient à $r \sim r' \Leftrightarrow r - r' \in \Z$.
    Grâce à l'exercice 1.6, on sait que $\R /_\sim = \{[y]_\sim | y \in [0,1[\}$.
    On a alors 

    \begin{figure}[h]
        \centering
        \begin{tikzcd}
            \R \arrow[r] \arrow[r, two heads] \arrow[rrr, "f", bend left] & {\{[y]_\sim | y \in [0,1[]\}} \arrow[r, "\sim"] & S^1 \arrow[r, hook] & B
        \end{tikzcd}
    \end{figure}
\end{exercice}

\begin{exercice}
    Supposons que $A' \cong A''$ et $B' \cong B''$ avec $A', B'$ disjoints et $A'', B''$ disjoints. Il existe alors des fonctions $f : A' \to A'', g : B' \to B''$
    bijectives. On construit alors $h : x \in A' \cup B' \mapsto 
    \begin{cases}
        f(x) & \text{si } x \in A', \\
        g(x) & \text{si } x \in B'
    \end{cases} \in A'' \cup B''$.
    Cette fonction est bien définie puisque $A', B'$ sont disjoints. La fonction $h$ est bijective par construction, on a 
    $h^{-1} : y \in A'' \cup B'' \mapsto 
    \begin{cases}
        f^{-1}(y) & \text{si } x \in A'', \\
        g^{-1}(y) & \text{si } x \in B''
    \end{cases} \in A'' \cup B''$.
    
    On peut définir $A \amalg B$ comme étant l'ensemble $(S \times A) \cup (T \times B)$ où $S, T$ sont des 
    ensembles disjoints. Dès lors pour tous ensembles $S, T, S', T'$ avec $S \cap T \neq \emptyset$ et $S' \cap T \neq \emptyset$, on a 
    $(S \times A) \cong (S' \times A)$ et $(T \times B) \cong (T' \times B)$, d'où par le résultat ci-dessus, $(S \times A) \cup (T \times B) \cong (S' \times A) \cup (T' \times B)$.
\end{exercice}

\begin{exercice}
    Soit $A, B$ deux ensembles finis, on a 
    \begin{align*}
        |B^A| &= \{\{f(x_1),...,f(x_{|A|})) \mid f : A \to B, x_i \in A, i = 1\dots|A|, x_i \neq x_j \text{ si } i \neq j\}| \\
              &= \left|\prod_{i=1}^{|A|} B\right| \\
              &= |B|^{|A|}.
    \end{align*}
\end{exercice}

\begin{exercice}
    On pose $\varphi : f \in 2^A \mapsto \{a \in A \mid f(a) = 1\} \in \mathcal{P}(A)$, d'inverse $\varphi^{-1} : B \in \mathcal{P(A)} \mapsto 1_B \in 2^A$.
\end{exercice}

\section{Catégories}

\begin{exercice}
    Soit $A, B, C \in Obj(\cat{C}^{op})$, on a 
    \begin{itemize}
        \item $Hom_{\cat{C}^{op}}(A,A) = Hom_{\cat{C}}(A,A)$, d'où $Id_A \in Hom_{\cat{C}^{op}}(A,A)$.
        \item Pour tous $f \in Hom_{\cat{C}^{op}}(A,B), g \in Hom_{\cat{C}^{op}}(B,C)$, on a $fg \in Hom_{\cat{C}}(C,A)$ donc $fg \in Hom_{\cat{C}^{op}}(A,C)$.
        Dès lors, $g \circ f := fg \in Hom_{\cat{C}^{op}}(A,C)$.
        \item L'associativité est directement héritée de $\cat{C}$.
        \item Pour tous $f \in Hom_{\cat{C}^{op}}(A,B), f \circ Id_A = Id_A f$ et $Id_B \circ f = f Id_B = f$ par $\cat{C}$.
    \end{itemize}
\end{exercice}

\begin{exercice}
    Si $A$ est fini, alors l'exercice 2.10, $End_{\cat{Ens}}(A) = |A|^{|A|}$.
\end{exercice}

\begin{exercice}
    Soit $a,b \in S$ tel que $Hom(a,b)$ ne soit pas vide. Alors on a $f \in Hom(a,b)$ si et seulement si $f = (a,b)$.
    On a $Id_a = (a,a)$, puisque $a \sim b$, on a $b \sim a$. Dès lors 
    \[a \sim b \land a \sim a \implies b \sim a \land a \sim a \]
    mais on a 
    \[b \sim a \land a \sim a \implies b \sim a \]
    et 
    \[b \sim a \implies a \sim b. \]
    Par transitivité de l'implication, on obtient
    \[a \sim b \land a \sim a \implies a \sim b.\]
    On a alors $f Id_a = (a,b) = f$.
    On raisonne de manière analogue pour montrer que $Id_b f = (a,b) = f$.

\end{exercice}

\begin{exercice}
    Non car sur $\Z$, la relation $<$ n'est pas réflexive, donc elle n'est pas une relation d'équivalence.
    En définissant de la même manière on n'aurait pas de morphisme identité $Id_z$ dans $Hom(z,z)$ pour tout $z \in \Z$.
\end{exercice}

\begin{exercice}
    Sur $\mathcal{P}(S)$, la relation $\subseteq$ est une relation d'équivalence.
\end{exercice}

\begin{exercice}
    Soit $A \in \mathcal{M}_{m,n}(\N)$ et $B \in \mathcal{M}_{n,p}(\N)$, alors on sait que la multiplication $AB$ est bien 
    définie, en particulier, $AB \in \mathcal{M}_{m,p}(\N)$. On a $A \in Hom_\vee(n,m)$ si et seulement si $A \in \mathcal{M}_{m,n}(\N)$
    et $B \in Hom_\vee(p,n)$ si et seulement si $B \in \mathcal{M}_{n,p}(\N)$.
    
    Supposons que $G \in Hom(s,t)$ et $H \in Hom(t,u)$, on définit alors $G \circ A = HG \in \mathcal{M}_{u,s}(\N)$ i.e. $G \circ A \in Hom_\vee(s,u)$.
\end{exercice}

\begin{exercice}
    Soit $\cat{C}$ une catégorie et $A \in Obj(\cat{C})$. On définit $\cat{C}_A$ la catégorie telle que :
    \begin{itemize}
        \item $Obj(\cat{C}_A) = \{Hom_{\cat{C}}(A,Z) \mid Z \in Obj(\cat{C})\}$
        \item Pour $A \xrightarrow{f} Z, A \xrightarrow{g} Z' \in Obj(\cat{C}_A)$,
        on pose $Hom(f,g) = Hom_{\cat{C}}(Z,Z')$.
        \item Pour $A \xrightarrow{f} Z \in Obj(\cat{C}_A)$, on pose $Id_f = Id_Z \in Hom_{\cat{C}}(Z,Z)$.
        \item Soit $A \xrightarrow{f} Z, A \xrightarrow{g} Z',A \xrightarrow{h} Z'' \in Obj(\cat{C}_A)$, soit $Z \xrightarrow{\sigma} Z'\in Hom(f,g)$ et 
        $Z' \xrightarrow{\tau} Z''$, on pose $\tau \sigma : Z \xrightarrow{\tau \circ_{\cat{C}} \sigma} Z''$.
        \item L'associativé est héritée de $\cat{C}$.
        \item Pour $A \xrightarrow{\sigma} Z \in Hom(f,g)$ (avec $A \xrightarrow{f} Z, A \xrightarrow{g} Z'$), on a $\sigma Id_f = \sigma Id_Z = \sigma$ et
        $Id_g \sigma = Id_{Z'} \sigma = \sigma$ par $\cat{C}$.
    \end{itemize}
\end{exercice}

\begin{exercice}
    
\end{exercice}